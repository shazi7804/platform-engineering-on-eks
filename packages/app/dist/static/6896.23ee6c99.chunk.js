"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6896],{6896:(I,C,t)=>{t.r(C),t.d(C,{TechDocsCustomHome:()=>H});var e=t(85668),h=t(35848),S=t(40476),f=t(38348),T=t(56596),r=t(11992),y=t(29644),P=t(91812),v=t(29292),a=t(8024),D=t(42704),x=t(96196),A=t(43152),B=t(8084);const G=n=>{const{entities:l}=n,d=(0,P.M7)(y.b),m=(0,v.u)(v.p);return l?e.createElement(a.cf,{"data-testid":"docs-explore"},l!=null&&l.length?l.map((s,i)=>{var u,c;return e.createElement(D.c,{key:i},e.createElement(x.c,null,e.createElement(a.mc,{title:(u=s.metadata.title)!=null?u:s.metadata.name})),e.createElement(A.c,null,s.metadata.description),e.createElement(B.c,null,e.createElement(a.EZ,{to:d({namespace:(0,r.t)((c=s.metadata.namespace)!=null?c:"default",m),kind:(0,r.t)(s.kind,m),name:(0,r.t)(s.metadata.name,m)}),color:"primary","data-testid":"read_docs"},"Read Docs")))}):null):null};var M=t(67928),O=t(47108);const R={DocsTable:r.D,DocsCardGrid:G},F=({config:n,entities:l,index:d})=>{const s=(0,S.c)({panelContainer:{marginBottom:"2rem",...n.panelCSS?n.panelCSS:{}}})(),{loading:i,isOwnedEntity:u}=(0,f.ot)(),c=R[n.panelType],p=l.filter(o=>n.filterPredicate==="ownedByUser"?i?!1:u(o):typeof n.filterPredicate=="function"&&n.filterPredicate(o));return e.createElement(e.Fragment,null,e.createElement(a.YC,{title:n.title,description:n.description},d===0?e.createElement(a.iY,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:s.panelContainer},e.createElement(c,{"data-testid":"techdocs-custom-panel",entities:p})))},H=n=>{const{tabsConfig:l}=n,[d,m]=(0,e.useState)(0),s=(0,v.u)(f.sf),{value:i,loading:u,error:c}=(0,h.default)(async()=>(await s.getEntities({filter:{"metadata.annotations.backstage.io/techdocs-ref":T.qG},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(E=>{var g;return!!((g=E.metadata.annotations)!=null&&g["backstage.io/techdocs-ref"])})),p=l[d];return u?e.createElement(r.T,null,e.createElement(a.kP,null,e.createElement(a.b$,null))):c?e.createElement(r.T,null,e.createElement(a.kP,null,e.createElement(a.mC,{severity:"error",title:"Could not load available documentation."},e.createElement(a.UB,{language:"text",text:c.toString()})))):e.createElement(r.T,null,e.createElement(a.d8,{selectedIndex:d,onChange:o=>m(o),tabs:l.map(({label:o},E)=>({id:E.toString(),label:o}))}),e.createElement(a.kP,{"data-testid":"techdocs-content"},p.panels.map((o,E)=>e.createElement(F,{key:E,config:o,entities:i||[],index:E}))))}}}]);})();

//# sourceMappingURL=6896.23ee6c99.chunk.js.map